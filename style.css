```css
/* style.css — revisado e unificado */

/* ========= Tokens ========= */
:root{
  --bg:#f5f6fa;
  --card:#fff;
  --primary:#2563eb;
  --primary-600:#1d4ed8;
  --secondary:#22c55e;
  --accent:#f97316;
  --danger:#ef4444;
  --info:#0ea5e9;
  --text:#1f2937;
  --muted:#6b7280;
  --border:#e5e7eb;
  --radius:12px;
  --shadow:0 6px 18px rgba(0,0,0,.06);
}

/* ========= Reset básico ========= */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  background:var(--bg);
  color:var(--text);
  line-height:1.5;
  -webkit-font-smoothing:antialiased;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Inter, sans-serif;
  padding-bottom:64px;
}

/* ========= Header ========= */
header{
  text-align:center;
  padding:2rem 1rem 1rem;
}
header h1{
  color:var(--primary);
  font-size:1.7rem;
  margin-bottom:.35rem;
}
header p{
  color:var(--muted);
  font-size:.95rem;
}
header .actions{
  margin-top:.6rem;
  display:flex;
  justify-content:center;
  gap:.5rem;
}

/* ========= Tabs ========= */
.tabs{
  display:flex;flex-wrap:wrap;justify-content:center;
  gap:.5rem;margin:1rem auto;max-width:1100px
}
.tabs button{
  border:1px solid var(--border);
  background:#fff;color:var(--text);
  padding:.55rem 1rem;border-radius:999px;
  cursor:pointer;transition:.25s; font-weight:600;
}
.tabs button:hover{transform:translateY(-1px)}
.tabs button.active{
  background:var(--primary);color:#fff;border-color:var(--primary);
  box-shadow:0 2px 8px rgba(37,99,235,.28)
}

/* ========= Container principal ========= */
main{
  max-width:1000px;margin:auto;background:var(--card);
  border-radius:var(--radius);box-shadow:var(--shadow);padding:2rem
}
.tab-content{display:none}
.tab-content.active{display:block}
.tab-content h2{margin-bottom:.65rem;font-size:1.35rem;color:var(--primary)}
.tab-content p{color:var(--muted);margin-bottom:1rem}

/* ========= Form & fieldsets (layout Qualificação/Contrato) ========= */
form{
  display:grid;gap:.8rem;margin-bottom:1rem
}
fieldset{
  border:1px solid var(--border);
  background:#fff;border-radius:10px;padding:1rem;margin-bottom:.8rem
}
legend{
  padding:0 .4rem; color:var(--primary-600); font-weight:700; font-size:.95rem
}
/* grid interno do fieldset ou form raiz */
form, fieldset{
  --min: 220px;
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(var(--min),1fr));
  gap:.8rem;
}
label{
  display:flex;flex-direction:column;gap:.35rem;
  font-weight:600;color:var(--text);font-size:.9rem
}
input,select,textarea{
  padding:.6rem .75rem;border-radius:10px;
  border:1px solid var(--border);font-size:.95rem;background:#fff;color:var(--text)
}
input:focus,select:focus,textarea:focus{
  outline:none;border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(37,99,235,.12)
}

/* ========= Ações ========= */
.actions{display:flex;gap:.6rem;flex-wrap:wrap;margin:1rem 0}
button{
  cursor:pointer;border:none;border-radius:10px;
  padding:.6rem 1.1rem;font-weight:600;transition:.2s
}
button:hover{opacity:.95;transform:translateY(-1px)}
.btn-ia{background:var(--primary);color:#fff}
.btn-save{background:var(--secondary);color:#fff}
.btn-clear{background:#f3f4f6;color:#374151;border:1px solid var(--border)}
#btn-reiniciar{background:#111827;color:#fff}
#btn-recalcular{background:#0ea5e9;color:#fff}
#btn-pdf{background:var(--accent);color:#fff}
#btn-google-ia{background:#0284c7;color:#fff}

/* ========= Mini editor ========= */
.editor-area{
  border:1px solid var(--border);border-radius:12px;background:#fff;
  box-shadow:0 1px 4px rgba(0,0,0,.05); overflow:hidden
}
.toolbar{
  display:flex;gap:.4rem;padding:.45rem;border-bottom:1px solid var(--border);
  background:#f9fafb
}
.toolbar button{
  background:#fff;border:1px solid var(--border);padding:.35rem .65rem;
  border-radius:8px;font-size:.9rem
}
.editor-mini{min-height:160px;padding:.85rem;outline:none}
.editor-mini:focus{background:#fbfdff}

/* ========= FATOS ========= */
.fato-bloco{
  background:#eef2ff;border:1px solid #c7d2fe;border-radius:12px;
  padding:.55rem .8rem;margin:.5rem 0;display:flex;justify-content:space-between;align-items:center
}
.fato-bloco .titulo{font-weight:700}
.fato-bloco .remover{background:transparent;border:none;color:var(--danger);font-size:1rem;cursor:pointer}

/* ========= FUNDAMENTOS / PEDIDOS (categorizados) ========= */
#fundamentos-box, #pedidos-box{
  display:grid; gap:.6rem; margin-bottom:1rem
}
#fundamentos-box details, #pedidos-box details{
  border:1px solid var(--border); border-radius:10px; background:#fff; overflow:hidden
}
#fundamentos-box summary, #pedidos-box summary{
  cursor:pointer; padding:.7rem .9rem; background:#f8fafc; font-weight:700; color:#334155;
  list-style:none; user-select:none; border-bottom:1px solid var(--border)
}
#fundamentos-box summary::-webkit-details-marker,
#pedidos-box summary::-webkit-details-marker{display:none}
#fundamentos-box ul, #pedidos-box ul{padding:.6rem .8rem}
#fundamentos-box li, #pedidos-box li{
  margin-left:1.1rem; margin-bottom:.25rem; cursor:pointer; transition:.15s; padding:.15rem .3rem; border-radius:6px
}
#fundamentos-box li:hover, #pedidos-box li:hover{background:#e0f2fe}
#fundamentos-box li.ativo, #pedidos-box li.ativo{background:#2563eb;color:#fff}

/* ========= PRELIMINARES UI ========= */
.preliminares-ui{
  display:grid; gap:.6rem; grid-template-columns: 1fr auto; align-items:end; margin-bottom:.6rem
}
.preliminares-ui label{grid-column:1/-1}
#preliminares-list{
  grid-column:1/-1; border:1px solid var(--border); border-radius:10px; padding:.6rem;
  background:#fff; max-height:220px; overflow:auto
}
#preliminares-list li{padding:.25rem .35rem; border-radius:6px}
#preliminares-list li:hover{background:#f3f4f6}

/* ========= Tabela de Cálculos ========= */
#tabela-wrap{overflow-x:auto;border:1px solid var(--border);border-radius:12px}
#tabela-calculos{width:100%;border-collapse:collapse;background:#fff}
#tabela-calculos th,#tabela-calculos td{
  border:1px solid var(--border); padding:.55rem; font-size:.95rem; text-align:left
}
#tabela-calculos th{background:#f8fafc;color:#334155}
#tabela-calculos tfoot td{font-weight:800}
#tabela-calculos input{
  width:100%;border:1px solid var(--border);border-radius:8px;padding:.28rem .4rem
}

/* ========= Editor final ========= */
#editor-final{
  border:1px solid var(--border); border-radius:12px; background:#fff; padding:1rem;
  min-height:320px; box-shadow:0 2px 8px rgba(0,0,0,.05); overflow-y:auto
}
#editor-final h3{color:var(--primary); margin-top:1rem}

/* ========= Utilidades ========= */
.hr{height:1px;background:var(--border);margin:1rem 0}

/* ========= Responsivo ========= */
@media (max-width: 780px){
  main{padding:1rem}
  .tabs{gap:.3rem}
  .tabs button{padding:.4rem .75rem;font-size:.85rem}
  form, fieldset{--min: 180px}
}
```
