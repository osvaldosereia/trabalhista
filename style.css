*{box-sizing:border-box}
:root{
  --bg:#f7f7fb; --card:#ffffff; --elev:#f3f5f8; --ink:#0b1220; --muted:#6b7280;
  --pri:#0ea5e9; --pri-ink:#001018; --bord:#e5e7eb; --good:#16a34a; --warn:#d97706; --bad:#dc2626;
  --radius:16px;
  font-synthesis-weight:none;
}
html,body{height:100%}
body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
  background:var(--bg); color:var(--ink); -webkit-font-smoothing:antialiased}
a{color:inherit}
.hidden{display:none !important}
.appbar{position:sticky;top:0;z-index:10;display:flex;align-items:center;justify-content:space-between;
  padding:10px 16px;background:rgba(255,255,255,.85);backdrop-filter:saturate(120%) blur(10px);border-bottom:1px solid var(--bord)}
.brand{display:flex;align-items:center;gap:10px;font-weight:600}
.brand .dot{width:10px;height:10px;border-radius:50%;background:var(--pri)}
.muted{color:var(--muted)}
.actions{display:flex;gap:8px}
.container{max-width:1100px;margin:32px auto;padding:0 16px}
.card{background:var(--card);border:1px solid var(--bord);border-radius:var(--radius);padding:16px}
.card.big{padding:28px}
.card.subtle{background:var(--elev)}
.row{display:flex;align-items:center}
.row.between{justify-content:space-between}
.row.end{justify-content:flex-end}
.row.gap{gap:8px}
.stack{display:flex;flex-direction:column;gap:12px}
.stack.small{gap:6px}
.grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.grid-2-tall{display:grid;grid-template-columns:1fr 1fr;gap:16px;align-items:start}
.grid-2 .stack,.grid-2 .panel{height:100%}
.panel{background:var(--card);border:1px solid var(--bord);border-radius:var(--radius);padding:16px}
.preview{min-height:200px;background:#fff;border:1px dashed var(--bord);border-radius:12px;padding:16px}
label{display:flex;flex-direction:column;gap:6px;font-size:.9rem}
input,select,textarea{background:#fff;color:var(--ink);border:1px solid var(--bord);border-radius:12px;padding:10px 12px;outline:none}
textarea{resize:vertical}
button{appearance:none;border:1px solid var(--bord);background:#ffffff;color:var(--ink);padding:10px 14px;border-radius:12px;cursor:pointer}
button:hover{border-color:#cbd5e1}
button.primary{background:var(--pri);color:#001018;border-color:#0592cf}
button.secondary{background:#f5f7fb}
button.ghost{background:transparent}
button.danger{border-color:#f1b2b7;color:#b91c1c;background:#fff5f5}
button.mini{font-size:.8rem;padding:6px 10px;border-radius:10px}
.icon{background:transparent;border:none;font-size:18px;line-height:1}
legend{font-weight:600;margin-bottom:8px}
.lead{color:var(--muted)}
.steps{display:flex;gap:6px;list-style:none;padding:0;margin:0 0 8px;flex-wrap:wrap}
.steps li{padding:6px 10px;border:1px solid var(--bord);border-radius:999px;color:var(--muted);background:#fff}
.steps li.active{color:var(--ink);border-color:var(--pri);box-shadow:0 0 0 1px #0ea5e94d inset}
.progress{height:6px;background:#fff;border:1px solid var(--bord);border-radius:999px;overflow:hidden}
.progress span{display:block;height:100%;background:linear-gradient(90deg,#0ea5e9,#22c55e)}
.wizard-head{position:sticky;top:56px;background:rgba(255,255,255,.9);backdrop-filter:blur(8px);
  padding:10px;border:1px solid var(--bord);border-radius:12px;margin-bottom:12px}
.wizard-foot{position:sticky;bottom:0;background:rgba(255,255,255,.9);backdrop-filter:blur(8px);border:1px solid var(--bord);border-radius:12px;padding:10px;margin-top:12px;gap:8px}
.chips{display:flex;gap:8px;flex-wrap:wrap}
.chip{border-radius:999px;padding:6px 10px;background:#fff;border:1px solid var(--bord)}
.split{display:flex;gap:8px}
.pedido{background:#fff;border:1px solid var(--bord);border-radius:12px;padding:12px}
.subpedido-row{display:flex;gap:8px;margin-top:6px}
.total{margin-top:8px}
.review{background:#fff;border:1px solid var(--bord);border-radius:12px;padding:12px;white-space:pre-wrap;min-height:120px}
.lint{list-style:none;padding:0;margin:8px 0 0 0;color:#b45309}
.toolbar{background:var(--card);border:1px solid var(--bord);border-radius:12px;padding:10px;margin-bottom:12px}
.mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.35);display:flex;align-items:center;justify-content:center;padding:16px}
.dialog{background:var(--card);border:1px solid var(--bord);border-radius:16px;padding:16px;max-width:920px;width:100%}
.dialog.wide{max-width:1100px}
.loading{position:fixed;inset:0;display:flex;gap:10px;align-items:center;justify-content:center;background:rgba(255,255,255,.5)}
.spinner{width:16px;height:16px;border-radius:50%;border:2px solid #0002;border-top-color:#0008;animation:s 1s linear infinite}
@keyframes s{to{transform:rotate(1turn)}}
hr{border:0;border-top:1px solid var(--bord);margin:10px 0}
.list{list-style:none;padding:0;margin:0;border:1px solid var(--bord);border-radius:12px;min-height:120px;background:#fff}
.list li{padding:8px 10px;border-bottom:1px solid var(--bord);cursor:pointer}
.list li:last-child{border-bottom:0}
.list li.active{background:#f3f5f8}
.print-area{color:#111;background:#fff;border-radius:0}
.bold{font-weight:600}
.center{text-align:center}
.right{text-align:right}
.page-break{page-break-before:always;margin-top:24px}
fieldset.locked{opacity:.55;filter:saturate(.7)}
.toast-wrap{position:fixed;right:16px;bottom:16px;display:flex;flex-direction:column;gap:8px;z-index:1000}
.toast{background:#111; color:#fff; padding:10px 12px; border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,.12)}
.toast.good{background:#16a34a}
.toast.warn{background:#d97706}
.toast.bad{background:#dc2626}
.theme-dark{--bg:#0b0c0f; --card:#111318; --elev:#161922; --ink:#e6e8ef; --muted:#98a2b3; --bord:#1f2430}
@media (max-width:900px){
  .grid-2,.grid-2-tall{grid-template-columns:1fr}
  .grid{grid-template-columns:1fr}
}
