<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gerador de Prompt – Reclamação Trabalhista</title>
  <style>
    :root{
      /* Claro (padrão) */
      --bg:#f7f7fb; --card:#ffffff; --ink:#0b0c10; --muted:#4b5563; --accent:#0b63ff; --line:#e5e7eb;
      --ok:#16a34a; --warn:#d97706; --bad:#dc2626;
      --field:#ffffff; --field-ink:#0b0c10; --field-line:#cbd5e1; --focus:#0b63ff;
      --shadow:0 1px 2px rgba(0,0,0,.05), 0 8px 24px rgba(19,31,53,.08);
    }
    .theme-dark{
      --bg:#0b0c10; --card:#111319; --ink:#e6e6e6; --muted:#a3a3a3; --accent:#6aa9ff; --line:#242836;
      --ok:#22c55e; --warn:#f59e0b; --bad:#ef4444;
      --field:#0f1117; --field-ink:#e6e6e6; --field-line:#2a2f44; --focus:#6aa9ff;
      --shadow:0 1px 2px rgba(0,0,0,.25), 0 10px 30px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;background:var(--bg);color:var(--ink)}
    .wrap{max-width:1100px;margin:0 auto;padding:20px}
    header{position:sticky;top:0;background:var(--bg);backdrop-filter:saturate(1.2) blur(6px);z-index:5;border-bottom:1px solid var(--line)}
    header .wrap{display:flex;gap:16px;align-items:center;justify-content:space-between}
    h1{font-size:20px;margin:10px 0}
    .tag{display:inline-flex;gap:8px;align-items:center;border:1px solid var(--line);border-radius:999px;padding:6px 10px;color:var(--muted)}
    .toolbar{display:flex;gap:8px;align-items:center}
    .switch{all:unset;cursor:pointer;border:1px solid var(--line);border-radius:10px;padding:8px 10px;background:var(--card);box-shadow:var(--shadow)}
    main{display:grid;grid-template-columns:1fr;gap:18px;margin-top:16px}
    .card{border:1px solid var(--line);border-radius:14px;background:var(--card);box-shadow:var(--shadow)}
    .card h2{font-size:16px;margin:0;padding:14px 16px;border-bottom:1px solid var(--line)}
    .card .body{padding:14px 16px;display:grid;gap:12px}
    fieldset{border:1px dashed var(--line);border-radius:10px;padding:12px}
    legend{padding:0 6px;color:var(--muted)}
    label{display:block;margin:6px 0 6px 0;color:var(--muted)}
    input[type="text"], input[type="date"], input[type="number"], textarea, select{
      width:100%;padding:12px;border-radius:10px;border:1px solid var(--field-line);background:var(--field);color:var(--field-ink)
    }
    input:focus, textarea:focus, select:focus{outline:2px solid var(--focus);outline-offset:2px;border-color:var(--focus)}
    textarea{min-height:112px;resize:vertical}
    .row{display:grid;gap:12px}
    .grid-2{grid-template-columns:repeat(2,1fr)}
    .grid-3{grid-template-columns:repeat(3,1fr)}
    @media (max-width:900px){.grid-2,.grid-3{grid-template-columns:1fr}}
    .chips{display:flex;gap:8px;flex-wrap:wrap}
    .chip{display:inline-flex;align-items:center;gap:8px;background:var(--field);border:1px solid var(--field-line);border-radius:999px;padding:8px 12px;color:var(--ink);cursor:pointer;user-select:none}
    .chip input{appearance:none;width:16px;height:16px;border:2px solid var(--field-line);border-radius:4px;display:inline-block;position:relative}
    .chip input:checked{border-color:var(--focus);background:var(--focus)}
    .chip input:checked::after{content:"";position:absolute;inset:3px;background:#fff;border-radius:2px}
    .chip:has(input:checked){box-shadow:0 0 0 2px rgba(11,99,255,.15)}
    .actions{display:flex;gap:10px;flex-wrap:wrap}
    button{all:unset;background:var(--accent);color:#fff;padding:12px 16px;border-radius:10px;font-weight:700;cursor:pointer;box-shadow:var(--shadow)}
    button:hover{filter:brightness(0.95)}
    button.secondary{background:transparent;color:var(--ink);border:1px solid var(--line)}
    .small{font-size:12px;color:var(--muted)}
    .out{white-space:pre-wrap;background:var(--field);border:1px solid var(--field-line);border-radius:12px;padding:12px;color:var(--field-ink)}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>Gerador de Prompt – Reclamação Trabalhista</h1>
      <div class="toolbar">
        <span class="tag">Saída: prompt para GPT + anexos</span>
        <button id="themeToggle" class="switch" title="Alternar claro/escuro">Tema</button>
      </div>
    </div>
  </header>

  <div class="wrap">
    <main>
      <!-- 1) Partes e foro -->
      <section class="card" id="sect-partes">
        <h2>1) Partes e foro</h2>
        <div class="body row grid-2">
          <fieldset>
            <legend>Reclamante</legend>
            <label>Nome completo</label>
            <input id="rec_nome" type="text" placeholder="João da Silva" />
            <label>CPF</label>
            <input id="rec_cpf" type="text" placeholder="000.000.000-00" />
            <label>Qualificação resumida</label>
            <input id="rec_qualif" type="text" placeholder="brasileiro, solteiro, auxiliar administrativo, residente em..." />
            <div class="checkline"><input id="rec_anexo" type="checkbox"/> <label for="rec_anexo">Informações estarão <b>em documento anexo</b></label></div>
          </fieldset>
          <fieldset>
            <legend>Reclamadas</legend>
            <label>Empregadora principal</label>
            <input id="recl1" type="text" placeholder="Razão social, CNPJ" />
            <label>Demais reclamadas / sócio de fato (opcional)</label>
            <input id="recl_outros" type="text" placeholder="Filial, tomadora, sócio X..." />
            <div class="checkline"><input id="recl_anexo" type="checkbox"/> <label for="recl_anexo">Qualificação <b>em anexo</b></label></div>
          </fieldset>
          <div>
            <label>Foro competente (Vara/município)</label>
            <input id="foro" type="text" placeholder="__ª Vara do Trabalho de ___/UF" />
          </div>
        </div>
      </section>

      <!-- 2) Contrato de trabalho -->
      <section class="card" id="sect-contrato">
        <h2>2) Contrato de trabalho</h2>
        <div class="body row grid-3">
          <div>
            <label>Cargo/função</label>
            <input id="funcao" type="text" placeholder="Operador de Caixa" />
          </div>
          <div>
            <label>Admissão</label>
            <input id="admissao" type="date" />
          </div>
          <div>
            <label>Saída</label>
            <input id="saida" type="date" />
          </div>
          <div>
            <label>Tipo de desligamento</label>
            <select id="desligamento">
              <option value="sem justa causa">Sem justa causa</option>
              <option value="com justa causa">Com justa causa</option>
              <option value="pedido de demissão">Pedido de demissão</option>
              <option value="término de contrato a termo">Término de contrato a termo</option>
            </select>
          </div>
          <div>
            <label>Aviso prévio</label>
            <select id="aviso">
              <option value="indenizado">Indenizado</option>
              <option value="trabalhado">Trabalhado</option>
              <option value="não aplicável">Não aplicável</option>
            </select>
          </div>
          <div class="checkline"><input id="contr_anexo" type="checkbox"/> <label for="contr_anexo">Contrato / fichas <b>em anexo</b></label></div>
        </div>
      </section>

      <!-- 3) Jornada -->
      <section class="card" id="sect-jornada">
        <h2>3) Jornada e controle de ponto</h2>
        <div class="body row">
          <div class="row grid-3">
            <div><label>Horário contratual</label><input id="horario_contratual" type="text" placeholder="Das 9h às 18h, 1h de intervalo"/></div>
            <div><label>Horário real</label><input id="horario_real" type="text" placeholder="Das 8h às 19h, 30min de intervalo"/></div>
            <div><label>Trabalho em domingos/feriados</label><input id="dom_fer" type="text" placeholder="2 domingos/mês, feriados nacionais"/></div>
          </div>
          <div class="row grid-3">
            <div><label>Banco de horas/compensações</label><input id="banco" type="text" placeholder="Compensação 12x36, acordo X"/></div>
            <div><label>Plantões/viagens</label><input id="plantoes" type="text" placeholder="Plantões quinzenais; viagens 4x/mês"/></div>
            <div class="checkline"><input id="ponto_anexo" type="checkbox"/> <label for="ponto_anexo">Espelhos de ponto <b>em anexo</b></label></div>
          </div>
        </div>
      </section>

      <!-- 4) Remuneração -->
      <section class="card" id="sect-remun">
        <h2>4) Remuneração</h2>
        <div class="body row grid-3">
          <div><label>Salário-base (R$)</label><input id="salario" type="number" step="0.01" placeholder="2500.00"/></div>
          <div><label>Médias variáveis</label><input id="variaveis" type="text" placeholder="Comissões 10%, PPR anual"/></div>
          <div class="checkline"><input id="holerite_anexo" type="checkbox"/> <label for="holerite_anexo">Holerites/extratos <b>em anexo</b></label></div>
        </div>
      </section>

      <!-- 5) Adicionais -->
      <section class="card" id="sect-adic">
        <h2>5) Adicionais e condições</h2>
        <div class="body row">
          <div class="chips">
            <label class="chip"><input type="checkbox" class="pedido" value="adicional noturno"/><span>Adic. noturno</span></label>
            <label class="chip"><input type="checkbox" class="pedido" value="insalubridade"/><span>Insalubridade</span></label>
            <label class="chip"><input type="checkbox" class="pedido" value="periculosidade"/><span>Periculosidade</span></label>
            <label class="chip"><input type="checkbox" class="pedido" value="sobreaviso"/><span>Sobreaviso</span></label>
            <label class="chip"><input type="checkbox" class="pedido" value="teletrabalho"/><span>Teletrabalho</span></label>
            <label class="chip"><input type="checkbox" class="pedido" value="acúmulo de função"/><span>Acúmulo de função</span></label>
            <label class="chip"><input type="checkbox" class="pedido" value="desvio de função"/><span>Desvio de função</span></label>
          </div>
          <div class="checkline"><input id="epi_anexo" type="checkbox"/> <label for="epi_anexo">EPIs/laudos/ASO/PPP <b>em anexo</b></label></div>
        </div>
      </section>

      <!-- 6) Férias / 13º / DSR -->
      <section class="card" id="sect-ferias">
        <h2>6) Férias, 13º e DSR</h2>
        <div class="body row grid-2">
          <div><label>Períodos e irregularidades</label><textarea id="ferias_info" placeholder="Férias 2019/2020 não gozadas; 13º 2018 pago em atraso; DSR sem integração de comissões..."></textarea></div>
          <div class="checkline"><input id="ferias_anexo" type="checkbox"/> <label for="ferias_anexo">Comprovantes <b>em anexo</b></label></div>
        </div>
      </section>

      <!-- 7) FGTS / INSS -->
      <section class="card" id="sect-fgts">
        <h2>7) FGTS e INSS</h2>
        <div class="body row grid-2">
          <div><label>Depósitos/ausências</label><textarea id="fgts_info" placeholder="Ausência de depósitos de 2017-2019; divergências CNIS..."></textarea></div>
          <div class="checkline"><input id="fgts_anexo" type="checkbox"/> <label for="fgts_anexo">Extratos/SEFIP/CNIS <b>em anexo</b></label></div>
        </div>
      </section>

      <!-- 8) Rescisão -->
      <section class="card" id="sect-rescisao">
        <h2>8) Rescisão</h2>
        <div class="body row grid-2">
          <div><label>Pagamentos e pendências</label><textarea id="rescisao_info" placeholder="Multa 477; verbas rescisórias parciais; ausência de TRCT..."></textarea></div>
          <div class="checkline"><input id="rescisao_anexo" type="checkbox"/> <label for="rescisao_anexo">TRCT/chaves/guias <b>em anexo</b></label></div>
        </div>
      </section>

      <!-- 9) Pedidos possíveis -->
      <section class="card" id="sect-pedidos">
        <h2>9) Pedidos selecionáveis</h2>
        <div class="body row">
          <div class="chips" id="pedidosStd"></div>
          <label>Outros pedidos personalizados</label>
          <textarea id="pedidos_extra" placeholder="Descrever pedidos adicionais. Um por linha."></textarea>
        </div>
      </section>

      <!-- 10) Provas e documentos -->
      <section class="card" id="sect-provas">
        <h2>10) Provas e documentos</h2>
        <div class="body row">
          <div class="chips">
            <label class="chip"><input type="checkbox" class="docanexo" value="CTPS"/><span>CTPS</span></label>
            <label class="chip"><input type="checkbox" class="docanexo" value="RG/CPF"/><span>RG/CPF</span></label>
            <label class="chip"><input type="checkbox" class="docanexo" value="Contrato e aditivos"/><span>Contrato e aditivos</span></label>
            <label class="chip"><input type="checkbox" class="docanexo" value="Holerites"/><span>Holerites</span></label>
            <label class="chip"><input type="checkbox" class="docanexo" value="Espelhos de ponto"/><span>Espelhos de ponto</span></label>
            <label class="chip"><input type="checkbox" class="docanexo" value="Extratos FGTS/SEFIP"/><span>Extratos FGTS/SEFIP</span></label>
            <label class="chip"><input type="checkbox" class="docanexo" value="CNIS"/><span>CNIS</span></label>
            <label class="chip"><input type="checkbox" class="docanexo" value="ASO/PPP/Laudos"/><span>ASO/PPP/Laudos</span></label>
            <label class="chip"><input type="checkbox" class="docanexo" value="E-mails/Mensagens"/><span>E-mails/Mensagens</span></label>
            <label class="chip"><input type="checkbox" class="docanexo" value="Outros"/><span>Outros</span></label>
          </div>
          <label>Testemunhas (nome – função – contato)</label>
          <textarea id="testemunhas" placeholder="Maria Souza – caixa – (11) 9xxxx-xxxx&#10;Carlos Lima – gerente – carlos@exemplo.com"></textarea>
        </div>
      </section>

      <!-- 11) Cálculos -->
      <section class="card" id="sect-calc">
        <h2>11) Cálculos</h2>
        <div class="body row grid-2">
          <div><label>Diretrizes de cálculo</label><textarea id="calc_info" placeholder="Detalhar horas extras, base de cálculo, reflexos, períodos e índices desejados (IPCA-E + SELIC conforme STF/TST)."></textarea></div>
          <div class="checkline"><input id="calc_detalhar" type="checkbox" checked/> <label for="calc_detalhar">Pedir <b>detalhamento de fórmulas</b></label></div>
        </div>
      </section>

      <!-- 12) Tutelas -->
      <section class="card" id="sect-tutelas">
        <h2>12) Tutelas de urgência (opcional)</h2>
        <div class="body row grid-2">
          <div><label>Medidas pretendidas</label><textarea id="tutelas" placeholder="Anotar CTPS; liberar FGTS/seguro-desemprego; restabelecer plano de saúde..."></textarea></div>
          <div class="checkline"><input id="tutelas_sugerir" type="checkbox"/> <label for="tutelas_sugerir">Autorizar IA a <b>sugerir tutelas</b></label></div>
        </div>
      </section>

      <!-- 13) Justiça gratuita e honorários -->
      <section class="card" id="sect-jg">
        <h2>13) Justiça gratuita e honorários</h2>
        <div class="body row grid-3">
          <div><label>Situação econômica</label><input id="jg_situacao" type="text" placeholder="Hipossuficiência econômica"/></div>
          <div><label>Honorários pretendidos (%)</label><input id="honorarios" type="number" step="1" placeholder="15"/></div>
          <div><label>Observações</label><input id="jg_obs" type="text" placeholder="..."/></div>
        </div>
      </section>

      <!-- 14) Valor da causa -->
      <section class="card" id="sect-vc">
        <h2>14) Pedidos finais e valor da causa</h2>
        <div class="body row grid-2">
          <div><label>Resumo dos pedidos e períodos</label><textarea id="pedidos_resumo" placeholder="Listar pedidos com período de incidência e reflexos pretendidos"></textarea></div>
          <div><label>Valor da causa (estimado)</label><input id="valor_causa" type="text" placeholder="R$ 50.000,00"/></div>
        </div>
      </section>

      <!-- 15) Dados do advogado -->
      <section class="card" id="sect-adv">
        <h2>15) Dados do advogado</h2>
        <div class="body row grid-3">
          <div><label>Nome e OAB</label><input id="adv" type="text" placeholder="Fulano de Tal – OAB/UF 123456"/></div>
          <div><label>E-mail</label><input id="adv_email" type="text" placeholder="adv@exemplo.com"/></div>
          <div><label>Telefone</label><input id="adv_tel" type="text" placeholder="(11) 9xxxx-xxxx"/></div>
        </div>
      </section>

      <!-- Saída -->
      <section class="card" id="sect-out">
        <h2>Saída do prompt</h2>
        <div class="body row">
          <div class="actions">
            <button id="btnGerar">Gerar prompt</button>
            <button class="secondary" id="btnCopiar">Copiar</button>
            <button class="secondary" id="btnBaixar">Baixar .txt</button>
          </div>
          <div class="small">Anexe ao chat com a IA: (i) este prompt, (ii) o <b>modelo base</b> de reclamatória e (iii) os <b>documentos marcados</b> abaixo. O modelo pode ser o arquivo do seu acervo interno equivalente a “Reclamação Trabalhista – modelo base”.</div>
          <textarea id="saida" class="out" placeholder="Clique em Gerar prompt"></textarea>
        </div>
      </section>
    </main>
  </div>

  <script>
  ;(() => {
    'use strict'

    const $ = (q, el=document) => el.querySelector(q)
    const $$ = (q, el=document) => Array.from(el.querySelectorAll(q))

    // Tema claro/escuro
    const applyTheme = (t) => document.body.classList.toggle('theme-dark', t === 'dark')
    const saved = localStorage.getItem('form-theme') || (matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light')
    applyTheme(saved)
    document.getElementById('themeToggle')?.addEventListener('click', () => {
      const next = document.body.classList.contains('theme-dark') ? 'light' : 'dark'
      localStorage.setItem('form-theme', next); applyTheme(next)
    })

    // Catálogo de pedidos padrão
    const PEDIDOS_STD = [
      'Horas extras + adicional + reflexos (DSR, 13º, férias + 1/3, FGTS + 40%)',
      'Adicional noturno + reflexos',
      'Intervalo intrajornada suprimido (CLT, art. 71) + reflexos',
      'Intervalo interjornadas (11h) + reflexos',
      'Adicional de insalubridade + reflexos',
      'Adicional de periculosidade + reflexos',
      'Diferenças salariais por acúmulo/desvio de função + reflexos',
      'Integração de comissões e prêmios no DSR e demais verbas',
      'Multas dos arts. 467 e 477 da CLT',
      'FGTS não depositado + multa de 40%',
      'Indenização substitutiva do seguro-desemprego',
      'Equiparação salarial (art. 461 CLT) + reflexos',
      'Indenização por danos morais/materiais (se configurado)',
      'Honorários sucumbenciais'
    ]

    // Render chips
    const pedidosStdHost = $('#pedidosStd')
    PEDIDOS_STD.forEach(txt => {
      const lab = document.createElement('label')
      lab.className = 'chip'
      const inp = document.createElement('input')
      inp.type = 'checkbox'
      inp.className = 'pedidoStd'
      inp.value = txt
      const span = document.createElement('span')
      span.textContent = ' ' + txt
      lab.appendChild(inp); lab.appendChild(span)
      pedidosStdHost.appendChild(lab)
    })

    // Coletar anexos marcados
    const anexosFromUI = () => {
      const set = new Set()
      if ($('#rec_anexo').checked) set.add('Qualificação do reclamante')
      if ($('#recl_anexo').checked) set.add('Qualificação das reclamadas')
      if ($('#contr_anexo').checked) set.add('Contrato/fichas de registro')
      if ($('#ponto_anexo').checked) set.add('Espelhos de ponto')
      if ($('#holerite_anexo').checked) set.add('Holerites/extratos bancários')
      if ($('#epi_anexo').checked) set.add('EPIs/ASO/PPP/Laudos')
      if ($('#ferias_anexo').checked) set.add('Comprovantes de férias/13º/DSR')
      if ($('#fgts_anexo').checked) set.add('Extratos FGTS/SEFIP/CNIS')
      if ($('#rescisao_anexo').checked) set.add('TRCT/Chaves/Guias')
      $$('.docanexo:checked').forEach(i => set.add(i.value))
      return Array.from(set)
    }

    // Construir prompt
    const buildPrompt = () => {
      const anexos = anexosFromUI()
      const pedidosSelecionados = $$('.pedidoStd:checked').map(i=>`- ${i.value}`)
      const pedidosExtras = $('#pedidos_extra').value
        .split(/\n+/).map(s=>s.trim()).filter(Boolean).map(s=>`- ${s}`)

      const data = {
        partes: {
          reclamante: $('#rec_anexo').checked ? '[EM ANEXO: qualificação completa do reclamante]' : `${$('#rec_nome').value} – CPF ${$('#rec_cpf').value}; ${$('#rec_qualif').value}`,
          reclamadas: $('#recl_anexo').checked ? '[EM ANEXO: qualificação das reclamadas]' : `${$('#recl1').value}; ${$('#recl_outros').value}`,
          foro: $('#foro').value
        },
        contrato: {
          funcao: $('#funcao').value,
          admissao: $('#admissao').value,
          saida: $('#saida').value,
          desligamento: $('#desligamento').value,
          aviso: $('#aviso').value,
          fonte: $('#contr_anexo').checked ? '[EM ANEXO]' : 'informado no formulário'
        },
        jornada: {
          contratual: $('#horario_contratual').value,
          real: $('#horario_real').value,
          domingosFeriados: $('#dom_fer').value,
          banco: $('#banco').value,
          plantoes: $('#plantoes').value,
          ponto: $('#ponto_anexo').checked ? '[EM ANEXO]' : 'sem anexos'
        },
        remuneracao: {
          salario: $('#salario').value,
          variaveis: $('#variaveis').value,
          holerites: $('#holerite_anexo').checked ? '[EM ANEXO]' : 'sem anexos'
        },
        adicionaisMarcados: $$('.pedido:checked').map(i=>i.value),
        ferias: { detalhe: $('#ferias_info').value, anexos: $('#ferias_anexo').checked },
        fgts: { detalhe: $('#fgts_info').value, anexos: $('#fgts_anexo').checked },
        rescisao: { detalhe: $('#rescisao_info').value, anexos: $('#rescisao_anexo').checked },
        pedidos: pedidosSelecionados.concat(pedidosExtras),
        provas: { testemunhas: $('#testemunhas').value.split(/\n+/).filter(Boolean) },
        calculos: { diretrizes: $('#calc_info').value, detalhar: $('#calc_detalhar').checked },
        tutelas: { medidas: $('#tutelas').value, sugerir: $('#tutelas_sugerir').checked },
        jg: { situacao: $('#jg_situacao').value, honorarios: $('#honorarios').value, obs: $('#jg_obs').value },
        valor: { resumo: $('#pedidos_resumo').value, valorCausa: $('#valor_causa').value },
        advogado: { nome: $('#adv').value, email: $('#adv_email').value, tel: $('#adv_tel').value },
        anexos
      }

      const prompt =
`Você é ADVOGADO ESPECIALISTA EM DIREITO DO TRABALHO no Brasil.\n
Tarefa: com base (i) no MODELO BASE DE RECLAMAÇÃO TRABALHISTA anexado e (ii) NOS DOCUMENTOS indicados como "EM ANEXO", redija integralmente uma RECLAMAÇÃO TRABALHISTA. Preserve o padrão forense brasileiro: endereçamento, qualificação, fatos, fundamentos jurídicos (CLT, CF/88, leis correlatas), pedidos numerados com reflexos, valor da causa, requerimentos, local/data e assinatura.\n
Regras obrigatórias:
- Use CLT, CF/88, súmulas/OJs do TST, precedentes e, quando necessário, PESQUISE e CRUZE em FONTES OFICIAIS (Planalto, LexML, CNJ, TST, TRTs, INSS, Gov.br) e em FONTE CONSAGRADA (Jusbrasil). TRAGA OS LINKS citados.
- Faça os CÁLCULOS quando possível.${data.calculos.detalhar ? ' Detalhe fórmulas e bases de cálculo.' : ''}
- Cite expressamente os DOCUMENTOS ANEXADOS que sustentam cada fato.
- Formate a peça em Markdown pronto para copiar e colar.\n
DADOS E PARÂMETROS FORNECIDOS:
1) Partes e foro: ${data.partes.reclamante}; Reclamadas: ${data.partes.reclamadas}; Foro: ${data.partes.foro}.
2) Contrato: função ${data.contrato.funcao}; admissão ${data.contrato.admissao}; saída ${data.contrato.saida}; desligamento ${data.contrato.desligamento}; aviso ${data.contrato.aviso}; fonte ${data.contrato.fonte}.
3) Jornada: contratual ${data.jornada.contratual}; real ${data.jornada.real}; domingos/feriados ${data.jornada.domingosFeriados}; banco de horas ${data.jornada.banco}; plantões/viagens ${data.jornada.plantoes}; ponto: ${data.jornada.ponto}.
4) Remuneração: salário-base R$ ${data.remuneracao.salario}; variáveis: ${data.remuneracao.variaveis}; holerites: ${data.remuneracao.holerites}.
5) Adicionais e condições marcadas: ${data.adicionaisMarcados.join(', ') || 'nenhuma'}.
6) Férias/13º/DSR: ${data.ferias.detalhe || '—'} (${data.ferias.anexos ? 'com anexos' : 'sem anexos'}).
7) FGTS/INSS: ${data.fgts.detalhe || '—'} (${data.fgts.anexos ? 'com anexos' : 'sem anexos'}).
8) Rescisão: ${data.rescisao.detalhe || '—'} (${data.rescisao.anexos ? 'com anexos' : 'sem anexos'}).
9) Pedidos pretendidos:
${data.pedidos.length ? data.pedidos.join('\n') : '- a definir pelo(a) advogado(a)'}
10) Testemunhas:
${data.provas.testemunhas.length ? data.provas.testemunhas.map(t=>' - '+t).join('\n') : '- a indicar'}
11) Cálculos: ${data.calculos.diretrizes || 'usar critérios legais e jurisprudenciais vigentes'}
12) Tutelas: ${data.tutelas.medidas || '—'} ${data.tutelas.sugerir ? '(IA pode sugerir outras)' : ''}
13) Justiça gratuita/honorários: ${data.jg.situacao || '—'}; honorários ${data.jg.honorarios || '—'}%; obs.: ${data.jg.obs || '—'}.
14) Valor da causa: ${data.valor.valorCausa || 'a estimar'}; resumo: ${data.valor.resumo || '—'}.
15) Advogado(a): ${data.advogado.nome}; contato: ${data.advogado.email} / ${data.advogado.tel}.\n
ANEXOS QUE SERÃO ENVIADOS À IA: ${data.anexos.length ? data.anexos.join('; ') : 'nenhum marcado'}.
IMPORTANTE: Considere o MODELO BASE anexado como referência estrutural e de estilo, mas adapte integralmente aos fatos e parâmetros acima. Não responder com instruções; entregue a PEÇA COMPLETA.\n`;

      return prompt
    }

    // Ações
    $('#btnGerar').addEventListener('click', () => {
      $('#saida').value = buildPrompt()
      $('#saida').focus()
      $('#saida').select()
    })

    $('#btnCopiar').addEventListener('click', async () => {
      const txt = $('#saida').value.trim()
      if (!txt) return
      try { await navigator.clipboard.writeText(txt) } catch {}
    })

    $('#btnBaixar').addEventListener('click', () => {
      const blob = new Blob([($('#saida').value||'').trim()], {type:'text/plain;charset=utf-8'})
      const a = document.createElement('a')
      a.href = URL.createObjectURL(blob)
      a.download = 'prompt-reclamacao-trabalhista.txt'
      document.body.appendChild(a); a.click(); a.remove()
      setTimeout(()=>URL.revokeObjectURL(a.href), 500)
    })

  })()
  </script>
</body>
</html>
